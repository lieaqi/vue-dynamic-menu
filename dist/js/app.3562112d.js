(function(e){function t(t){for(var r,a,u=t[0],c=t[1],s=t[2],l=0,d=[];l<u.length;l++)a=u[l],o[a]&&d.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function u(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-10b39a36":"1de07f09","chunk-27563926":"65d66214","chunk-166c5a5d":"f56db60e","chunk-37d21e46":"7f8720d1","chunk-3f39d05f":"5987b797","chunk-8f9f5d40":"5fcf1a45","chunk-c25dce9e":"71dd2b96","chunk-504131f5":"fb312b8f","chunk-830dd4b0":"03385a75"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-10b39a36":1,"chunk-166c5a5d":1,"chunk-37d21e46":1,"chunk-3f39d05f":1,"chunk-8f9f5d40":1,"chunk-c25dce9e":1,"chunk-504131f5":1,"chunk-830dd4b0":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-10b39a36":"636809d0","chunk-27563926":"31d6cfe0","chunk-166c5a5d":"1fbc9f53","chunk-37d21e46":"7f19b72a","chunk-3f39d05f":"464af3ef","chunk-8f9f5d40":"9c638a62","chunk-c25dce9e":"368d0ea7","chunk-504131f5":"c47fd741","chunk-830dd4b0":"373a8f09"}[e]+".css",o=c.p+r,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var s=i[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],l=s.getAttribute("data-href");if(l===r||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.request=r,delete a[e],f.parentNode.removeChild(f),n(i)},f.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(f)}).then(function(){a[e]=0}));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise(function(t,n){r=o[e]=[t,n]});t.push(r[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=u(e),s=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");i.type=r,i.request=a,n[1](i)}o[e]=void 0}};var d=setTimeout(function(){s({type:"timeout",target:l})},12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var f=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"20e9":function(e,t,n){"use strict";var r=n("373f"),a=n.n(r);a.a},2956:function(e,t,n){"use strict";var r=n("d098"),a=n.n(r);a.a},"2b3c":function(e,t,n){},"373f":function(e,t,n){},"3eda":function(e,t,n){"use strict";var r=n("2b3c"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],i=n("2877"),u={},c=Object(i["a"])(u,a,o,!1,null,null,null),s=c.exports,l=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"bc404"})},f=[],h=(n("b2b1"),{}),p=Object(i["a"])(h,d,f,!1,null,null,null),m=p.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"login",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}}},[e._m(0),n("div",{staticClass:"bottom-login"},[n("div",{staticClass:"margin-15-10"},[n("i",{staticClass:"el-icon-edit m-right-10"}),n("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.TelPhone,callback:function(t){e.TelPhone=t},expression:"TelPhone"}})],1),n("div",{staticClass:"margin-15-10"},[n("i",{staticClass:"el-icon-edit m-right-10"}),n("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.PassWord,callback:function(t){e.PassWord=t},expression:"PassWord"}})],1),n("div",{staticClass:"btn-login"},[n("el-button",{attrs:{type:"primary",loading:e.loginLoading},on:{click:e.login}},[e._v("后台登陆")])],1)])])])},v=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-login"},[n("div",{staticClass:"title"},[e._v("\n        后台管理\n      ")]),n("div",{staticClass:"m-top-10"},[e._v("\n        crm\n      ")])])}],b={label:"",name:"",mixins:[],components:{},props:{},data:function(){return{loginLoading:!1,PassWord:"",TelPhone:""}},created:function(){},mounted:function(){},methods:{login:function(){var e=this;this.PassWord&&this.TelPhone?(this.loginLoading=!0,this.$request.Site.Login({TelPhone:this.TelPhone,PassWord:this.PassWord}).then(function(t){e.$store.dispatch("setToken",t.Data.AuthorizationToken).then(function(){e.$router.push("/")}),e.loginLoading=!1},function(){e.loginLoading=!1})):this.$message.error("请输入完整的账号密码")}}},k=b,y=(n("2956"),Object(i["a"])(k,g,v,!1,null,"c292c9b2",null)),A=y.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("el-container",[n("el-aside",{attrs:{width:"180px"}},[n("leftMenu")],1),n("el-container",[n("el-header",{staticStyle:{display:"flex","align-items":"center"}},[n("span",{staticClass:"flex-1"}),n("div",{staticClass:"subject-user"},[n("img",{staticClass:"subject-userImg",attrs:{src:"https://lieaqi.oss-cn-beijing.aliyuncs.com/score/%E6%99%93.jpg",alt:""}}),n("span",{staticClass:"subject-userName"},[e._v("落逸")])])]),n("el-main",[n("div",[n("router-view")],1)])],1)],1)],1)},_=[],M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e._m(0),n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:!0,"default-active":e.$route.path,collapse:e.isCollapse,"active-text-color":"#ffffff","background-color":"#162850","text-color":"#c0c4cc"}},e._l(e.routes,function(t){return n(e.getType(t.children),{key:t.path,tag:"div",attrs:{index:t.path+"/"+t.children[0].path}},["el-menu-item"==e.getType(t.children)?n("div",[n("i",{class:"iconfont "+t.meta.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.meta.title))])]):n("template",{slot:"title"},[n("i",{staticClass:"el-icon-location"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.meta.title))])]),e._l(t.children,function(r,a){return a>1||1!=t.children.length?n("el-menu-item",{key:r.path,attrs:{index:t.path+"/"+r.path}},[e._v(e._s(r.meta.title))]):e._e()})],2)}),1)],1)},w=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-title"},[n("div",[e._v("后台管理")]),n("div",{staticClass:"f-title"},[e._v("CRM")])])}],C={label:"左侧菜单",name:"leftMenu",mixins:[],components:{},props:{},data:function(){return{isCollapse:!1,routes:[]}},created:function(){this.routes=this.getRoute(this.$router.options.routes),console.log(this.routes)},mounted:function(){},methods:{getRoute:function(e){var t=this;return e.filter(function(e){return!e.hidden}).map(function(e){return e.children=e.children?t.getRoute(e.children):null,e})},getType:function(e){return e.length>1?"el-submenu":"el-menu-item"}},computed:{defaultActive:function(){return this.$route.path}}},P=C,O=(n("20e9"),Object(i["a"])(P,M,w,!1,null,"97fce2d8",null)),T=O.exports,S={label:"框架体",name:"subject",mixins:[],components:{leftMenu:T},props:{},data:function(){return{}},created:function(){},mounted:function(){},methods:{}},U=S,x=(n("3eda"),Object(i["a"])(U,j,_,!1,null,"1a7bad9a",null)),E=x.exports,G={path:"/agency",name:"agency",component:E,meta:{title:"代理商",icon:"icon-yiwurenyuan"},redirect:{path:"/agent/menuConfig"},children:[{path:"agencyManagement",name:"agencyManagement",component:function(){return Promise.all([n.e("chunk-27563926"),n.e("chunk-3f39d05f")]).then(n.bind(null,"4fa0"))},meta:{title:"代理商管理"}},{path:"agencyProduct",name:"agencyProduct",component:function(){return Promise.all([n.e("chunk-27563926"),n.e("chunk-37d21e46")]).then(n.bind(null,"c130"))},meta:{title:"产品管理"}},{path:"agencyCustomer",name:"agencyCustomer",component:function(){return Promise.all([n.e("chunk-27563926"),n.e("chunk-166c5a5d")]).then(n.bind(null,"8d27"))},meta:{title:"客户管理"}},{path:"agencyFinance",name:"agencyFinance",component:function(){return Promise.all([n.e("chunk-27563926"),n.e("chunk-8f9f5d40")]).then(n.bind(null,"e90b"))},meta:{title:"财务管理"}},{path:"agencyOrder",name:"agencyOrder",component:function(){return Promise.all([n.e("chunk-27563926"),n.e("chunk-c25dce9e")]).then(n.bind(null,"d89c"))},meta:{title:"订单管理"}}]},$={path:"/jurisdiction",name:"jurisdiction",component:E,meta:{title:"权限",icon:"icon-yiwurenyuan"},redirect:{path:"/jurisdiction/jurisdictionMenu"},children:[{path:"jurisdictionMenu",name:"jurisdictionMenu",component:function(){return n.e("chunk-504131f5").then(n.bind(null,"82ef"))},meta:{title:"菜单配置",white:!0}},{path:"jurisdictionRole",name:"jurisdictionRole",component:function(){return n.e("chunk-10b39a36").then(n.bind(null,"9355"))},meta:{title:"角色配置",white:!0}},{path:"agentConfig",name:"agentConfig",component:function(){return n.e("chunk-830dd4b0").then(n.bind(null,"ff83"))},meta:{title:"代理商配置",white:!0}}]};r["default"].use(l["a"]);var D=new l["a"]({routes:[{path:"/",redirect:{path:"/jurisdiction/jurisdictionMenu"},hidden:!0},{path:"/404",component:m,hidden:!0},{path:"/login",component:A,name:"login",hidden:!0},$,G,{path:"**",redirect:{path:"/404"},hidden:!0}]}),L=D,W=n("2f62"),N=n("a78e"),R=n.n(N),q="token";function B(){return R.a.get(q)}function z(e){return R.a.set(q,e)}function I(){return R.a.remove(q)}r["default"].use(W["a"]);var K=new W["a"].Store({state:{token:null},mutations:{SETTOKEN:function(e,t){e.token=t}},actions:{setToken:function(e,t){var n=e.commit;n("SETTOKEN",t),z(t)},loginOut:function(e){var t=e.commit;t("SETTOKEN",null),I();var n=location.origin+"/#/login";location.href=n}}}),F=n("5c96"),J=n.n(F),H=(n("0fae"),n("d225")),Q=n("b0b4"),V=n("795b"),X=n.n(V),Y=n("bc3a"),Z=n.n(Y),ee={development:{url:"http://cloud-crm-api.0577site.com/core/api"},production:{url:"http://cloud-crm-api.0577site.com/core/api"}},te=ee["production"],ne=Z.a.create({baseURL:te.url,timeout:15e3});ne.interceptors.request.use(function(e){return e.headers.Authorization="bearer ".concat(B()),e},function(e){X.a.reject(e)}),ne.interceptors.response.use(function(e){var t=e.data;return t.Succeed?e.data:(Object(F["Message"])({message:t.Message,type:"error",duration:5e3}),X.a.reject("error"))},function(e){if(e.response&&401==e.response.status){I("");var t=location.origin+"/#/login";location.href=t}var n=e.response&&e.response.data&&e.response.data.Message||"服务器请求出错";return Object(F["Message"])({message:n,type:"error",duration:5e3}),X.a.reject(e.response||e.response.data)});var re=function(){function e(){Object(H["a"])(this,e)}return Object(Q["a"])(e,[{key:"AddMenu",value:function(e){return ne({url:"/Site/AddMenu",method:"post",data:e})}},{key:"UpdateMenu",value:function(e){return ne({url:"/Site/UpdateMenu",method:"post",data:e})}},{key:"DeleteMenu",value:function(e){return ne({url:"/Site/DeleteMenu",method:"post",data:e})}},{key:"GetMenuTree",value:function(e){return ne({url:"/Site/GetMenuTree",method:"post",data:e})}},{key:"GetMenu",value:function(e){return ne({url:"/Site/GetMenu",method:"post",data:e})}},{key:"GetMenuTreeByUserId",value:function(e){return ne({url:"/Site/GetMenuTreeByUserId",method:"post",data:e})}},{key:"GetMenuDetail",value:function(e){return ne({url:"/Site/GetMenuDetail",method:"post",data:e})}},{key:"AddUserAndMenu",value:function(e){return ne({url:"/Site/AddUserAndMenu",method:"post",data:e})}},{key:"DeleteUserAndMenu",value:function(e){return ne({url:"/Site/DeleteUserAndMenu",method:"post",data:e})}},{key:"Login",value:function(e){return ne({url:"/Site/Login",method:"post",data:e})}},{key:"GetUser",value:function(e){return ne({url:"/Site/GetUser",method:"post",data:e})}},{key:"UpdateUser",value:function(e){return ne({url:"/Site/UpdateUser",method:"post",data:e})}},{key:"UpdateUserPassWord",value:function(e){return ne({url:"/Site/UpdateUserPassWord",method:"post",data:e})}},{key:"AddUser",value:function(e){return ne({url:"/Site/AddUser",method:"post",data:e})}},{key:"GetUserDetail",value:function(e){return ne({url:"/Site/GetUserDetail",method:"post",data:e})}}]),e}(),ae=new re,oe=function(){function e(){Object(H["a"])(this,e)}return Object(Q["a"])(e,[{key:"GetAgent",value:function(e){return ne({url:"/Agent/GetAgent",method:"post",data:e})}},{key:"GetArea",value:function(e){return ne({url:"/Agent/GetArea",method:"post",data:e})}},{key:"AddAgent",value:function(e){return ne({url:"/Agent/AddAgent",method:"post",data:e})}},{key:"UpdateAgment",value:function(e){return ne({url:"/Agent/UpdateAgment",method:"post",data:e})}},{key:"UpdateOwnAgment",value:function(e){return ne({url:"/Agent/UpdateOwnAgment",method:"post",data:e})}},{key:"GetAgentDetail",value:function(e){return ne({url:"/Agent/GetAgentDetail",method:"post",data:e})}},{key:"GetOwnAgentDetail",value:function(e){return ne({url:"/Agent/GetOwnAgentDetail",method:"post",data:e})}}]),e}(),ie=new oe,ue={Agent:ie,Site:ae};n("8e1f");r["default"].config.productionTip=!1,r["default"].use(J.a,{size:"mini"}),r["default"].prototype.$request=ue,new r["default"]({router:L,store:K,render:function(e){return e(s)}}).$mount("#app")},"8e1f":function(e,t,n){},b2b1:function(e,t,n){"use strict";var r=n("d3f3"),a=n.n(r);a.a},d098:function(e,t,n){},d3f3:function(e,t,n){}});
//# sourceMappingURL=app.3562112d.js.map