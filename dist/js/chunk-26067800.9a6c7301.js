(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26067800"],{"0a49":function(t,e,n){var o=n("9b43"),r=n("626a"),i=n("4bf8"),s=n("9def"),a=n("cd1c");t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,f=6==t,p=5==t||f,h=e||a;return function(e,a,m){for(var d,v,g=i(e),b=r(g),y=o(a,m,3),M=s(b.length),x=0,C=n?h(e,M):u?h(e,0):void 0;M>x;x++)if((p||x in b)&&(d=b[x],v=y(d,x,g),t))if(n)C[x]=v;else if(v)switch(t){case 3:return!0;case 5:return d;case 6:return x;case 2:C.push(d)}else if(l)return!1;return f?-1:c||l?l:C}}},1169:function(t,e,n){var o=n("2d95");t.exports=Array.isArray||function(t){return"Array"==o(t)}},2366:function(t,e){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);function r(t,e){var o=e||0,r=n;return[r[t[o++]],r[t[o++]],r[t[o++]],r[t[o++]],"-",r[t[o++]],r[t[o++]],"-",r[t[o++]],r[t[o++]],"-",r[t[o++]],r[t[o++]],"-",r[t[o++]],r[t[o++]],r[t[o++]],r[t[o++]],r[t[o++]],r[t[o++]]].join("")}t.exports=r},"5d17":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"c-flex-c"},[n("div",{staticClass:"top-search m-top-10"},[n("el-button",{attrs:{type:"primary"},on:{click:t.addFirstMenu}},[t._v("新增初级菜单")]),n("el-button",{attrs:{type:"success"},on:{click:t.synchronization}},[t._v("同步菜单")])],1),n("div",{staticClass:"dividing-line m-bottom-20"}),n("div",{staticClass:"c-flex-c flex-1"},[n("div",{staticClass:"c-flex flex-1",staticStyle:{"flex-wrap":"wrap"}},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"active-text-color":"#ffffff","background-color":"#162850","text-color":"#c0c4cc"}},[n("loopMenuSet",{attrs:{routes:t.routes}})],1),n("div",{staticClass:"margin-0-20",staticStyle:{width:"1px","background-color":"whitesmoke"}}),n("el-card",{staticClass:"box-card right-menu-config",attrs:{disabled:!0}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v(t._s(t.menuSetTitle))])]),"UPDATEMENU"!=t.$store.state.menuType?n("div",{staticClass:"quickRoute"},[n("span",{staticClass:"title"},[t._v("快速选择:")]),n("el-cascader",{attrs:{options:t.allRoutes,"change-on-select":"",props:t.props},on:{change:t.checkMenu},model:{value:t.quickRoute,callback:function(e){t.quickRoute=e},expression:"quickRoute"}})],1):t._e(),n("el-form",{key:(new Date).getTime(),ref:"routeForm",staticClass:"demo-ruleForm",attrs:{model:t.routeForm,rules:t.routeRules,"label-width":"100px"}},["UPDATEMENU"!=t.$store.state.menuType?n("el-form-item",{attrs:{label:"父级菜单"}},[n("span",[t._v(t._s(t.fatherTitle||"---"))])]):t._e(),"UPDATEMENU"!=t.$store.state.menuType?n("el-form-item",{attrs:{label:"父级路径"}},[n("span",[t._v(t._s(t.fatherPath||"---"))])]):t._e(),n("el-form-item",{attrs:{label:"名称",prop:"title"}},[n("el-input",{model:{value:t.routeForm.title,callback:function(e){t.$set(t.routeForm,"title",e)},expression:"routeForm.title"}})],1),n("el-form-item",{attrs:{label:"英文名称",prop:"name"}},[n("el-input",{attrs:{disabled:!0},model:{value:t.routeForm.name,callback:function(e){t.$set(t.routeForm,"name",e)},expression:"routeForm.name"}})],1),n("el-form-item",{attrs:{label:"路由地址",prop:"path"}},[n("el-input",{attrs:{disabled:!0},model:{value:t.routeForm.path,callback:function(e){t.$set(t.routeForm,"path",e)},expression:"routeForm.path"}})],1),n("el-form-item",{attrs:{label:"icon",prop:"icon"}},[n("el-input",{model:{value:t.routeForm.icon,callback:function(e){t.$set(t.routeForm,"icon",e)},expression:"routeForm.icon"}})],1),n("el-form-item",{attrs:{label:"显示",prop:"show"}},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.routeForm.show,callback:function(e){t.$set(t.routeForm,"show",e)},expression:"routeForm.show"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("保存并继续")])],1)],1)],1),n("div",{staticClass:"margin-0-20",staticStyle:{width:"1px","background-color":"whitesmoke"}}),n("pre",[t._v("      "+t._s(t.routes)+"\n    ")])],1)])])},r=[],i=(n("ac6a"),n("7514"),n("a4bb")),s=n.n(i),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.routes,function(e,o){return n(t.getType(e.children),{key:t.getIndex(),tag:"div",attrs:{index:t.getIndex()}},["el-menu-item"==t.getType(e.children)?n("div",[n("div",{staticClass:"c-flex"},[n("span",{staticClass:"flex-1",on:{click:function(n){return n.stopPropagation(),t.checkMenu(e)}}},[n("i",{staticClass:"el-icon-location"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]),n("span",{staticClass:"menu-btn m-right-20"},[n("i",{staticClass:"el-icon-plus",on:{click:function(n){return n.stopPropagation(),t.addMenu(e)}}}),n("i",{staticClass:"el-icon-delete",on:{click:function(n){return n.stopPropagation(),t.deleteMenu(e,o)}}})])])]):n("template",{slot:"title"},[n("div",{staticClass:"c-flex"},[n("span",{staticClass:"flex-1",on:{click:function(n){return n.stopPropagation(),t.checkMenu(e)}}},[n("i",{staticClass:"el-icon-location"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])]),n("span",{staticClass:"menu-btn m-right-20"},[n("i",{staticClass:"el-icon-plus",on:{click:function(n){return n.stopPropagation(),t.addMenu(e)}}}),n("i",{staticClass:"el-icon-delete",on:{click:function(n){return n.stopPropagation(),t.deleteMenu(e,o)}}})])])]),e.children?n("loopMenuSet",{attrs:{routes:e.children}}):t._e()],2)}),1)},u=[],c=n("c64e"),l=n.n(c),f={label:"",name:"loopMenuSet",mixins:[],components:{loopMenuSet:d},props:{routes:Array},data:function(){return{}},created:function(){},mounted:function(){},methods:{getIndex:function(){return l()()},checkMenu:function(t){this.$store.dispatch("setMenuType","UPDATEMENU"),this.$store.dispatch("setMenu",t)},addMenu:function(t){this.$store.dispatch("setMenuType","ADDMENU"),this.$store.dispatch("setMenu",t)},deleteMenu:function(t,e){var n=this;this.$confirm("是否删除菜单：".concat(t.title)).then(function(t){n.routes.splice(e,1),n.$message.success("删除成功")})},getType:function(t){return t&&t.length?"el-submenu":"el-menu-item"}}},p=f,h=(n("ac98"),n("2877")),m=Object(h["a"])(p,a,u,!1,null,"d578a550",null),d=m.exports,v={label:"",name:"",mixins:[],components:{loopMenuSet:d},props:{},data:function(){return{routes:[],routeForm:{title:"",name:"",path:"",icon:"",show:""},routeRules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],name:[{required:!0,message:"请选择英文名称",trigger:"blur"}],path:[{required:!0,message:"请选择路径",trigger:"blur"}]},allRoutes:[],props:{label:"title",value:"path"},fatherTitle:"",fatherPath:"",menuSetTitle:"新增菜单",quickRoute:[]}},watch:{"$store.state.menu":function(t){this.initRouteForm();var e=this.$store.state.menuType;this.menuConfig(e,t)}},created:function(){this.allRoutes=this.$router.options.routes.filter(function(t){return!t.initial}),this.routes=this.getRoute(this._.cloneDeep(this.$store.state.routes)),this.allRoutes=this.getRoute(this.allRoutes),this.addFirstMenu()},mounted:function(){},methods:{synchronization:function(){var t=this;this.$store.dispatch("synchronization",this.routes).then(function(e){t.$message.success("同步成功")})},initRouteForm:function(){this.quickRoute=[],this.routeForm={title:"",name:"",path:"",icon:"",show:!0}},addFirstMenu:function(){this.$store.dispatch("setMenuType","FIRSTMENU"),this.$store.dispatch("setMenu",this.routes),this.initRouteForm()},menuConfig:function(t,e){var n=this;this.menuSetTitle="UPDATEMENU"==t?"修改菜单":"新增菜单","UPDATEMENU"==t?s()(this.routeForm).map(function(t){n.routeForm[t]=e[t]||n.routeForm[t]}):(this.fatherTitle="ADDMENU"==t?e.title:"---",this.fatherPath="ADDMENU"==t?e.path:"/")},save:function(){var t=this;this.$refs.routeForm.validate(function(e){if(!e)return!1;t.$message.success("操作成功"),t.$store.dispatch("saveMenu",t.routeForm)})},checkMenu:function(t){var e=this,n=this._.cloneDeep(t),o=this.getRouteConfig(n,this.allRoutes),r=this._.cloneDeep(o.route);s()(this.routeForm).map(function(t){return e.routeForm[t]=r[t]}),this.routeForm.path=o.fatherPath+this.routeForm.path,this.$set(this.routeForm,"show",!0)},getRouteConfig:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=t.splice(0,1)[0],r=this._.find(e,{path:o});return t.length&&(n+="".concat(o,"/")),t.length?this.getRouteConfig(t,r.children,n):{route:r,fatherPath:n}},getRoute:function(t){var e=this;return t.filter(function(t){return!t.hidden}).map(function(t){return t.meta&&s()(t.meta).forEach(function(n){return e.$set(t,n,t.meta[n])}),t.children=t.children?e.getRoute(t.children):null,t})},getType:function(t){return t.length?"el-submenu":"el-menu-item"}}},g=v,b=(n("7412"),Object(h["a"])(g,o,r,!1,null,"6ea4bb70",null));e["default"]=b.exports},7412:function(t,e,n){"use strict";var o=n("b965"),r=n.n(o);r.a},7514:function(t,e,n){"use strict";var o=n("5ca1"),r=n("0a49")(5),i="find",s=!0;i in[]&&Array(1)[i](function(){s=!1}),o(o.P+o.F*s,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(i)},ac6a:function(t,e,n){for(var o=n("cadf"),r=n("0d58"),i=n("2aba"),s=n("7726"),a=n("32e9"),u=n("84f2"),c=n("2b4c"),l=c("iterator"),f=c("toStringTag"),p=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=r(h),d=0;d<m.length;d++){var v,g=m[d],b=h[g],y=s[g],M=y&&y.prototype;if(M&&(M[l]||a(M,l,p),M[f]||a(M,f,g),u[g]=p,b))for(v in o)M[v]||i(M,v,o[v],!0)}},ac98:function(t,e,n){"use strict";var o=n("b26c"),r=n.n(o);r.a},b26c:function(t,e,n){},b965:function(t,e,n){},c64e:function(t,e,n){var o=n("e1f4"),r=n("2366");function i(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var s=t.random||(t.rng||o)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[i+a]=s[a];return e||r(s)}t.exports=i},cd1c:function(t,e,n){var o=n("e853");t.exports=function(t,e){return new(o(t))(e)}},e1f4:function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);t.exports=function(){return n(o),o}}else{var r=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}},e853:function(t,e,n){var o=n("d3f4"),r=n("1169"),i=n("2b4c")("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),o(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}}}]);